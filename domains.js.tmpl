    <script>
      $("#domain-table").bootstrapTable();
      feather.replace();

      function format_provenance(provenance) {
        return Object.keys(provenance).map(function(domain) {
          return [
            "D" + domain,
            provenance[domain].label,
            format_provenance(provenance[domain].edges)
          ];
        });
      }

      function update() {
        $.ajax({
          url: "http://" + controller_addr + "/get_statistics",
          dataType: "json",
          success: function(data) {
            $("#error-msg").removeClass("show");
            const domains = data.domains;
            const table_data = Object.keys(domains).map(function(i) {
              let nodes = domains[i][1];
              return [
                i,
                Object.keys(nodes).map(function(i) {
                  return i + " (" + nodes[i].desc + ")";
                }),
                domains[i][0].min_label,
                domains[i][0].log_size,
                JSON.stringify(format_provenance(domains[i][0].provenance.edges))
              ];
            });
            $("#domain-table").bootstrapTable('load', table_data);
          },
          error: function(e) {
            $("#error-msg").html("AJAX request to controller API failed: " + e.statusText).addClass("show");
          }
        });
      }

      function build_table() {
        $.ajax({
          type: "POST",
          url: "http://" + controller_addr + "/table_builder",
          data: "\"Vote\"",
          dataType: "text",
          success: function(data) {
            console.log("build_table");
            console.log(data);
          },
          error: function(e) {
            console.log("failed to build table: " + e.statusText);
          }
        });
      }

      function build_view() {
        $.ajax({
          type: "POST",
          url: "http://" + controller_addr + "/view_builder",
          data: "\"ArticleWithVoteCount\"",
          dataType: "text",
          success: function(data) {
            console.log("build_view");
            console.log(data);
          },
          error: function(e) {
            console.log("failed to build view: " + e.statusText);
          }
        });
      }

      update();
    </script>
